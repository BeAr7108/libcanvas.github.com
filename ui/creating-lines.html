<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>LibCanvas :: Ui :: Creating lines</title>
		<link href="/files/styles.css" rel="stylesheet" />
		<script src="/files/js/atom.js"></script>
		<script src="/files/js/libcanvas.js"></script>
	</head>
	<body>
		<canvas></canvas>
		<p><a href="/">Return to index</a></p>
		<p>dblClick on the canvas</p>
		<script src="/files/js/ui-core.js"></script>
		<script>
new function () {
	var Circle = LibCanvas.Shapes.Circle;
	var Line   = LibCanvas.Shapes.Line;

	UiCore.libcanvas = new LibCanvas('canvas')
		.listenMouse()
		.size({
			width : 400,
			height: 250
		}, true)
		.start();

	var last = null;

	UiCore.libcanvas.mouse.addEvent('dblclick', function (e) {
		var coord = e.offset.clone();

		UiCore
			.createShaper(new Circle(coord, 5), 5)
			.clickable()
			.draggable();

		if (last) UiCore.createShaper(new Line(coord, last), 4);

		UiCore.libcanvas.update();

		last = coord;
	});
}
		</script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-23092701-1']);
_gaq.push(['_trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
	</body>
</html>