<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>LibCanvas :: moving layers</title>
		<link href="/files/styles.css" rel="stylesheet" />
		<script src="/files/js/atom.js"></script>
		<script src="/files/js/libcanvas.js"></script>
	</head>
	<body>
		<canvas></canvas>
		<p><a href="/">Return to index</a></p>
		<script>
new function () {
	LibCanvas.extract();

	var lc = new LibCanvas('canvas', { clear: '#333' })
		.size(400, 250, true)
		.listenMouse()
		.start();

	var shapers = [
		new Circle(100, 100, 50),
		new Rectangle(175, 50, 150, 75).snapToPixel(),
		new Polygon([
			[ 250, 150 ],
			[ 275, 225 ],
			[ 150, 200 ]
		])
	].map(function (shape) {
		return lc.createShaper({
			shape: shape,
			stroke : '#096',
			hover: { stroke: '#9c0' },
			active: { stroke: '#90c' }
		})
		.clickable();
	});

	var drag = false;

	lc.mouse.addEvent({
		'down': function () {
			for (var i = shapers.length; i--;) {
				if ( lc.mouse.isOver( shapers[i] )) return;
			}
			drag = true;
		},
		'up'  : function () { drag = false },
		'out' : function () { drag = false },
		'move': function (e) {
			if (drag) lc.addShift( e.deltaOffset, true );
		}
	});

	lc.update();
};
		</script>
		<script src="/files/js/google-analytics.js"></script>
	</body>
</html>