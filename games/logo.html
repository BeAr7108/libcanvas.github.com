<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>LibCanvas :: tiles engine</title>
		<link href="/files/styles.css" rel="stylesheet" />
		<script src="/files/js/atom.js"></script>
		<script src="/files/js/libcanvas.js"></script>
	</head>
	<body>
		<canvas></canvas>
		<p><a href="/">Return to index</a></p>
		<script>
new function () {

var libcanvas = new LibCanvas('canvas', { backBuffer: 'off' }).listenMouse().start();

var engine = new LibCanvas.Engines.Tile( libcanvas );

engine.setMatrix([
	[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
	[1,1,1,5,1,1,1,5,1,5,5,5,1,1,1,5,5,5,1,1,1,5,5,1,1,5,1,1,1,5,1,5,1,1,1,5,1,1,5,5,1,1,1,5,5,5,1,1,1],
	[1,1,1,5,1,1,1,5,1,5,1,1,5,1,5,1,1,1,5,1,5,1,1,5,1,5,5,1,1,5,1,5,1,1,1,5,1,5,1,1,5,1,5,1,1,1,1,1,1],
	[1,1,1,5,1,1,1,5,1,5,5,5,1,1,5,1,1,1,1,1,5,5,5,5,1,5,1,5,1,5,1,5,1,1,1,5,1,5,5,5,5,1,1,5,5,1,1,1,1],
	[1,1,1,5,1,1,1,5,1,5,1,1,5,1,5,1,1,1,5,1,5,1,1,5,1,5,1,1,5,5,1,1,5,1,5,1,1,5,1,1,5,1,1,1,1,5,1,1,1],
	[1,1,1,5,5,5,1,5,1,5,5,5,1,1,1,5,5,5,1,1,5,1,1,5,1,5,1,1,1,5,1,1,1,5,1,1,1,5,1,1,5,1,5,5,5,1,1,1,1],
	[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
]);
engine.setSize(7,7,1);
engine.addTiles({
	1 : null,
	2 : '#300',
	3 : '#009',
	4 : '#060',
	5 : '#fff',
	6 : '#ff6',
	7 : '#fcf',
	8 : '#6ff'
});
libcanvas.size( engine.countSize(), true );
engine.update();

var lastCell = null;
libcanvas.addFunc(function () {
	if (!libcanvas.mouse.inCanvas) return;

	var cell = engine.getCell( libcanvas.mouse.point );

	if (cell && (!lastCell || cell.x != lastCell.x || cell.y != lastCell.y)) {
		do {
			var newValue = cell.t <= 4 ?
				Number.random(1, 4) : Number.random(5, 8);
		} while (newValue == cell.t);
		engine.matrix[cell.y][cell.x] = newValue;
		engine.update();
		lastCell = cell;
	}
});

};
		</script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-23092701-1']);
_gaq.push(['_trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
	</body>
</html>